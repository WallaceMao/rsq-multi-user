# 多用户demo

## 1 基本功能

### 新增
- 获取所有兄弟用户（API测试）
- 设置主团队（API测试）
- 切换兄弟用户（API测试）

### 修改
- 登录后默认登录主用户（API测试、第三方做web测试）
- 创建团队（API测试、手机号做web测试）
- 邀请加入团队（API测试、第三方登录做web测试、注册做web测试）
- 退出团队（API测试）
- 解散团队（API测试）
- 重新加入团队（API测试、第三方登录做web测试、注册做web测试）

## 2 存在问题：
1  默认登录帐号与修改账号密码的问题

## 3 测试说明：

### 【新增】获取所有兄弟用户
多人加入团队后，做API测试

### 【新增】获取主团队
做API测试

### 【新增】设置主团队
做API测试

### 【新增】切换兄弟用户
做API测试

### 【修改】登录后默认登录主用户
登录后默认登录主用户，做API测试
针对第三方登录，做web测试

####

### 【修改】创建团队（API测试、手机号做web测试）
创建团队时暂停验证，做API测试
模拟真实环境下创建团队，做web测试

### 【修改】邀请加入团队及重新加入团队（API测试、第三方登录做web测试、注册做web测试）

#### API测试
- 1 直接邀请
  - 1.1 从未注册过日事清：手机账号或邮箱直接作为登录账号加入团队
  - 1.2 已注册过日事清
    - 1.2.1 从未加入过该公司：发送邀请 -> 受邀请人登录账号接受邀请
    - 1.2.2 已经在该公司中：已经在该公司中了，不发送邀请
    - 1.2.3 目前不在该公司，曾经加入过该公司：发送邀请 -> 受邀请人登录帐号接受邀请重新加入公司
    
- 2 批量邀请
  - 2.1 从未注册过日事清：新建账号（此时的账号是随机密码！）并通过邮件或者短信方式将公司加入链接发送给用户。
  **这种方式有问题，新用户已经有账号了，但是不知道密码，此时只能走找回密码流程**
  - 2.2 已经注册过日事清
    - 2.2.1 从未加入过该公司：发送邀请 -> 受邀请人登录帐号接受邀请
    - 2.2.2 已经在该公司中：不发送邀请
    - 2.2.3 目前不在该公司，曾经加如果该公司：发送邀请 -> 受邀请人登录帐号接受邀请重新加入公司
    
- 3 链接邀请
  - 3.1 从未注册过日事清的用户：打开邀请链接 -> 输入手机号或者邮箱注册 -> 注册完成加入团队
  - 3.2 已经注册过日事清的用户
    - 3.2.1 从未加入过该公司：打开邀请链接 -> 输入手机号或者邮箱登陆 -> 登录后加入团队
    - 3.2.2 已经在该公司：打开邀请链接 -> 输入手机号或者邮箱登陆 -> 已经加入团队
    - 3.2.3 目前不在该公司，曾经加如果该公司：打开邀请链接 -> 输入手机号或者邮箱登陆 -> 登录后加入团队
    
#### web测试
- 1 链接邀请
  - 1.1 从未注册过日事清的用户打开邀请链接
    - 1.1.1 QQ登录： 注册完成加入团队
    - 1.1.2 微信登录： 注册完成加入团队
    - 1.1.3 新浪登录： 注册完成加入团队
  - 1.2 已经用第三方登录注册过日事清的用户（不做重复加入公司测试）
    - 1.2.1 QQ登录： 登录完成加入团队
    - 1.2.2 微信登录： 登录完成加入团队
    - 1.2.3 新浪登录： 登录完成加入团队

### 【修改】退出团队（API测试）
做API测试

### 【修改】解散团队（API测试）
做API测试

----

## 1 功能测试用例

- (*)标记的为手动测试

### 1.1 测试前准备工作

#### 清理账号

- 原web注册邮箱（）
- 原web注册手机号（）
- 原webQQ账号信息
- 原web微信账号信息
- 原web微博帐号信息
- 原web钉钉账号信息

### 1.2 测试用例（web driver部分）

#### web端注册

1. 邮箱注册
2. 手机号注册
3. QQ注册
4. 微信注册
5. 微博注册
6. 钉钉注册

#### PC端注册（*）

1. 邮箱注册（*）
2. 手机号注册（*）
3. QQ注册（*）
4. 微信注册（*）
5. 微博注册（*）

#### iOS注册

1. 手机号注册
2. QQ注册（*）
3. 微信注册（*）
4. 微博注册（*）

#### 安卓注册

1. 手机号注册
2. QQ注册（*）
3. 微信注册（*）
4. 微博注册（*）

#### web端登录

1. 邮箱登录
2. 手机号登录
3. QQ登录
4. 微信登录
5. 微博登录
6. 钉钉登录

#### PC端登录（*）

1. 邮箱登录（*）
2. 手机号登录（*）
3. QQ登录（*）
4. 微信登录（*）
5. 微博登录（*）

#### iOS登录

1. 手机号登录
2. QQ登录（*）
3. 微信登录（*）
4. 微博登录（*）

#### 安卓登录

1. 手机号登录
2. QQ登录（*）
3. 微信登录（*）
4. 微博登录（*）

#### 邀请注册
短信邮件邀请？
链接邀请：邮箱、手机号、QQ、微信、微博、钉钉
微信扫码邀请：邮箱、手机号、QQ、微博

#### 邀请登录
短信邮件邀请？
链接邀请：邮箱、手机号、QQ、微信、微博、钉钉
微信扫码邀请：邮箱、手机号、QQ、微博